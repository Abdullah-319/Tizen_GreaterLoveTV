<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Greater Love Network - Stream Your Favorite Bible Teachers"/>
    <title>Greater Love Network TV</title>
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Navigation Styles */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 80px;
            background: rgba(0, 0, 0, 0.95);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }

        .logo-text {
            font-size: 28px;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            gap: 60px;
            list-style: none;
        }

        .nav-item {
            padding: 12px 24px;
            font-size: 18px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-item:hover,
        .nav-item:focus,
        .nav-item.focused {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            outline: none;
        }

        .nav-item.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
        }

        /* Main Content */
        .main-content {
            margin-top: 120px;
            padding: 0 80px 100px;
        }

        .hero-section {
            text-align: center;
            padding: 80px 0;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23667eea" width="1200" height="600"/><path fill="%23764ba2" d="M0,600L1200,0V600Z"/></svg>');
            border-radius: 20px;
            margin-bottom: 80px;
        }

        .hero-title {
            font-size: 64px;
            font-weight: bold;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: 32px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 40px;
        }

        .hero-description {
            font-size: 24px;
            color: rgba(255, 255, 255, 0.8);
            max-width: 800px;
            margin: 0 auto 60px;
            line-height: 1.4;
        }

        /* Section Styles */
        .section {
            margin-bottom: 80px;
        }

        .section-title {
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 40px;
            color: white;
            position: relative;
            padding-left: 20px;
        }

        .section-title:before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 60px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 3px;
        }

        /* Live Streams */
        .live-streams {
            display: flex;
            gap: 40px;
            overflow-x: auto;
            padding: 20px 0;
        }

        .live-stream-card {
            min-width: 500px;
            height: 280px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            overflow: hidden;
        }

        .live-stream-card:hover,
        .live-stream-card:focus,
        .live-stream-card.focused {
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
            outline: none;
        }

        .live-stream-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="3" fill="rgba(255,255,255,0.08)"/><circle cx="60" cy="80" r="2" fill="rgba(255,255,255,0.06)"/></svg>');
            opacity: 0.3;
        }

        .live-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff4757;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .stream-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
        }

        .stream-description {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
        }

        /* Shows Grid */
        .shows-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            padding: 20px 0;
        }

        .show-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .show-card:hover,
        .show-card:focus,
        .show-card.focused {
            transform: translateY(-10px);
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            outline: none;
        }

        .show-category {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 20px;
        }

        .show-title {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
        }

        .show-author {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
        }

        .show-stats {
            display: flex;
            gap: 20px;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Video Player */
        .video-player {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 1000;
            display: none;
        }

        .video-player.active {
            display: block;
        }

        .video-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .video-frame {
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 40px 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover,
        .control-btn:focus {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            outline: none;
        }

        .video-title {
            font-size: 24px;
            font-weight: bold;
            color: white;
        }

        /* Loading States */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 24px;
            color: rgba(255, 255, 255, 0.7);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Focus Management */
        .focusable {
            outline: none;
        }

        .focused {
            outline: 3px solid #667eea !important;
            outline-offset: 2px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .navbar {
                padding: 15px 40px;
            }
            
            .main-content {
                padding: 0 40px 100px;
            }
            
            .hero-title {
                font-size: 48px;
            }
            
            .hero-subtitle {
                font-size: 24px;
            }
            
            .section-title {
                font-size: 32px;
            }
        }

        /* Error States */
        .error-message {
            background: rgba(255, 71, 87, 0.1);
            border: 2px solid #ff4757;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            color: #ff4757;
            font-size: 18px;
        }

        .retry-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
        }

        .retry-btn:hover {
            background: #ff3838;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">
            <div class="logo-icon">GLN</div>
            <div class="logo-text">Greater Love Network</div>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item active focusable" tabindex="0" data-page="home">HOME</li>
            <li class="nav-item focusable" tabindex="0" data-page="live">LIVE TV</li>
            <li class="nav-item focusable" tabindex="0" data-page="shows">ALL SHOWS</li>
            <li class="nav-item focusable" tabindex="0" data-page="about">ABOUT US</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <div id="home-page" class="page active">
            <!-- Hero Section -->
            <section class="hero-section">
                <h1 class="hero-title">STREAM YOUR FAVORITE</h1>
                <h2 class="hero-subtitle">BIBLE TEACHERS</h2>
                <p class="hero-description">IN ONE PLACE</p>
                <p class="hero-description">Experience powerful Biblical teaching from renowned ministers and teachers, all streaming live and on-demand.</p>
            </section>

            <!-- Live Streams Section -->
            <section class="section">
                <h2 class="section-title">Live Streams</h2>
                <div class="live-streams" id="live-streams-container">
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading live streams...
                    </div>
                </div>
            </section>

            <!-- Featured Shows Section -->
            <section class="section">
                <h2 class="section-title">Featured Shows</h2>
                <div class="shows-grid" id="featured-shows-container">
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading featured shows...
                    </div>
                </div>
            </section>
        </div>

        <!-- Live TV Page -->
        <div id="live-page" class="page" style="display: none;">
            <section class="section">
                <h2 class="section-title">Live TV Channels</h2>
                <div class="live-streams" id="all-live-streams">
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading all live streams...
                    </div>
                </div>
            </section>
        </div>

        <!-- Shows Page -->
        <div id="shows-page" class="page" style="display: none;">
            <section class="section">
                <h2 class="section-title">All Shows</h2>
                <div class="shows-grid" id="all-shows-container">
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading all shows...
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page -->
        <div id="about-page" class="page" style="display: none;">
            <section class="section">
                <h2 class="section-title">About Greater Love Network</h2>
                <div style="max-width: 800px; margin: 0 auto;">
                    <p style="font-size: 24px; line-height: 1.6; margin-bottom: 30px; color: rgba(255,255,255,0.9);">
                        Greater Love Network is your premier destination for Biblical teaching and Christian content. We bring together the most respected Bible teachers and ministers from around the world.
                    </p>
                    <p style="font-size: 20px; line-height: 1.6; color: rgba(255,255,255,0.8);">
                        Our mission is to provide accessible, high-quality spiritual content that strengthens faith, builds community, and spreads the message of God's love to believers worldwide.
                    </p>
                </div>
            </section>
        </div>
    </main>

    <!-- Video Player -->
    <div class="video-player" id="video-player">
        <div class="video-container">
            <iframe class="video-frame" id="video-frame" src="" allowfullscreen></iframe>
            <div class="video-controls">
                <div class="video-info">
                    <div class="video-title" id="video-title">Loading...</div>
                </div>
                <div class="control-buttons">
                    <button class="control-btn focusable" id="close-player" tabindex="0">✕ CLOSE</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Greater Love Network Tizen TV App
        class GreaterLoveApp {
            constructor() {
                this.currentPage = 'home';
                this.focusIndex = 0;
                this.focusableElements = [];
                this.liveStreams = [];
                this.shows = [];
                this.isVideoPlayerOpen = false;
                this.currentStream = null;
                
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.loadStaticData();
                this.updateFocusableElements();
                this.setInitialFocus();
            }

            setupEventListeners() {
                // Keyboard navigation for TV remote
                document.addEventListener('keydown', (e) => this.handleKeyPress(e));
                
                // Navigation clicks
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', (e) => this.switchPage(e.target.dataset.page));
                });

                // Close video player
                document.getElementById('close-player').addEventListener('click', () => {
                    this.closeVideoPlayer();
                });

                // Focus events
                document.addEventListener('focusin', (e) => {
                    if (e.target.classList.contains('focusable')) {
                        this.updateFocusedElement(e.target);
                    }
                });
            }

            handleKeyPress(e) {
                const key = e.keyCode;
                
                switch(key) {
                    case 37: // Left arrow
                        this.navigateLeft();
                        e.preventDefault();
                        break;
                    case 38: // Up arrow
                        this.navigateUp();
                        e.preventDefault();
                        break;
                    case 39: // Right arrow
                        this.navigateRight();
                        e.preventDefault();
                        break;
                    case 40: // Down arrow
                        this.navigateDown();
                        e.preventDefault();
                        break;
                    case 13: // Enter/OK
                        this.selectCurrentElement();
                        e.preventDefault();
                        break;
                    case 8: // Back button
                    case 27: // Escape
                        if (this.isVideoPlayerOpen) {
                            this.closeVideoPlayer();
                        } else {
                            this.switchPage('home');
                        }
                        e.preventDefault();
                        break;
                    case 461: // Return button (Samsung TV)
                        if (this.isVideoPlayerOpen) {
                            this.closeVideoPlayer();
                        }
                        e.preventDefault();
                        break;
                }
            }

            navigateLeft() {
                const currentElement = this.focusableElements[this.focusIndex];
                if (!currentElement) return;

                // Navigate within the same row/section
                let newIndex = this.focusIndex - 1;
                if (newIndex >= 0) {
                    this.setFocus(newIndex);
                }
            }

            navigateRight() {
                const currentElement = this.focusableElements[this.focusIndex];
                if (!currentElement) return;

                // Navigate within the same row/section
                let newIndex = this.focusIndex + 1;
                if (newIndex < this.focusableElements.length) {
                    this.setFocus(newIndex);
                }
            }

            navigateUp() {
                // Move to navigation or previous section
                const navItems = document.querySelectorAll('.nav-item');
                const currentElement = this.focusableElements[this.focusIndex];
                
                if (!currentElement || navItems[0].contains(currentElement) || currentElement.classList.contains('nav-item')) {
                    // Already in nav, stay in nav
                    const navIndex = Array.from(navItems).indexOf(currentElement);
                    if (navIndex > 0) {
                        navItems[navIndex - 1].focus();
                        this.focusIndex = this.focusableElements.indexOf(navItems[navIndex - 1]);
                    }
                } else {
                    // Move to navigation
                    const activeNavItem = document.querySelector('.nav-item.active');
                    if (activeNavItem) {
                        activeNavItem.focus();
                        this.focusIndex = this.focusableElements.indexOf(activeNavItem);
                    }
                }
            }

            navigateDown() {
                const navItems = document.querySelectorAll('.nav-item');
                const currentElement = this.focusableElements[this.focusIndex];
                
                if (navItems[0].contains(currentElement) || currentElement.classList.contains('nav-item')) {
                    // Move from navigation to content
                    this.moveToContent();
                } else {
                    // Navigate down within content
                    let newIndex = this.focusIndex + 1;
                    if (newIndex < this.focusableElements.length) {
                        this.setFocus(newIndex);
                    }
                }
            }

            moveToContent() {
                const contentElements = this.focusableElements.filter(el => 
                    !el.classList.contains('nav-item') && 
                    el.offsetParent !== null // visible elements only
                );
                
                if (contentElements.length > 0) {
                    contentElements[0].focus();
                    this.focusIndex = this.focusableElements.indexOf(contentElements[0]);
                }
            }

            selectCurrentElement() {
                const currentElement = this.focusableElements[this.focusIndex];
                if (!currentElement) return;

                if (currentElement.classList.contains('nav-item')) {
                    this.switchPage(currentElement.dataset.page);
                } else if (currentElement.classList.contains('live-stream-card')) {
                    const streamId = currentElement.dataset.streamId;
                    this.playLiveStream(streamId);
                } else if (currentElement.classList.contains('show-card')) {
                    const showId = currentElement.dataset.showId;
                    this.playShow(showId);
                } else if (currentElement.id === 'close-player') {
                    this.closeVideoPlayer();
                }
            }

            setFocus(index) {
                if (index >= 0 && index < this.focusableElements.length) {
                    this.focusIndex = index;
                    this.focusableElements[index].focus();
                }
            }

            updateFocusedElement(element) {
                // Remove focused class from all elements
                document.querySelectorAll('.focused').forEach(el => el.classList.remove('focused'));
                
                // Add focused class to current element
                element.classList.add('focused');
                
                // Update focus index
                this.focusIndex = this.focusableElements.indexOf(element);
            }

            updateFocusableElements() {
                // Get all currently visible focusable elements
                this.focusableElements = Array.from(document.querySelectorAll('.focusable'))
                    .filter(el => el.offsetParent !== null); // Only visible elements
            }

            setInitialFocus() {
                const activeNavItem = document.querySelector('.nav-item.active');
                if (activeNavItem) {
                    activeNavItem.focus();
                    this.focusIndex = 0;
                }
            }

            switchPage(page) {
                // Hide all pages
                document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
                
                // Update navigation
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.dataset.page === page) {
                        item.classList.add('active');
                    }
                });

                // Show selected page
                const targetPage = document.getElementById(`${page}-page`);
                if (targetPage) {
                    targetPage.style.display = 'block';
                    this.currentPage = page;
                }

                // Update focusable elements and reset focus
                setTimeout(() => {
                    this.updateFocusableElements();
                    this.moveToContent();
                }, 100);

                // Load page-specific data
                this.loadPageData(page);
            }

            loadPageData(page) {
                switch(page) {
                    case 'live':
                        this.loadAllLiveStreams();
                        break;
                    case 'shows':
                        this.loadAllShows();
                        break;
                }
            }

            loadStaticData() {
                // Static live streams (similar to your tvOS app)
                this.liveStreams = [
                    {
                        id: 'channel_1',
                        name: 'Greater Love TV Channel 1',
                        description: 'Live Biblical teaching and inspirational content',
                        embed_url: 'https://swf.tulix.tv/iframe/greaterlove/',
                        hls_url: 'https://rpn.bozztv.com/dvrfl03/itv04060/index.m3u8',
                        status: 'online'
                    },
                    {
                        id: 'channel_2',
                        name: 'Greater Love TV Channel 2',
                        description: 'Worship, praise, and ministry content',
                        embed_url: 'https://swf.tulix.tv/iframe/greaterlove2/',
                        hls_url: 'https://rpn.bozztv.com/dvrfl04/itv04019/index.m3u8',
                        status: 'online'
                    }
                ];

                // Static featured shows
                this.shows = [
                    {
                        id: 'show_1',
                        title: 'Biblical Teaching',
                        author: 'Various Ministers',
                        category: 'Teaching',
                        episodes: 45,
                        description: 'Deep dive into Biblical principles and teachings'
                    },
                    {
                        id: 'show_2',
                        title: 'Worship & Praise',
                        author: 'Greater Love Ministry',
                        category: 'Worship',
                        episodes: 32,
                        description: 'Uplifting worship and praise sessions'
                    },
                    {
                        id: 'show_3',
                        title: 'Ministry Outreach',
                        author: 'Community Leaders',
                        category: 'Ministry',
                        episodes: 28,
                        description: 'Ministry and outreach programs'
                    },
                    {
                        id: 'show_4',
                        title: 'Testimonies',
                        author: 'Community Members',
                        category: 'Testimony',
                        episodes: 56,
                        description: 'Powerful testimonies of faith and transformation'
                    },
                    {
                        id: 'show_5',
                        title: 'Oasis Ministries',
                        author: 'Anthony & Sheila Wynn',
                        category: 'Ministry',
                        episodes: 24,
                        description: 'Powerful ministry sessions with the Wynns'
                    },
                    {
                        id: 'show_6',
                        title: 'Created To Praise',
                        author: 'Tim Hill',
                        category: 'Worship',
                        episodes: 18,
                        description: 'Worship and praise focused teachings'
                    }
                ];

                // Initialize the home page
                this.renderLiveStreams();
                this.renderFeaturedShows();
            }

            renderLiveStreams() {
                const container = document.getElementById('live-streams-container');
                if (!container) return;

                let html = '';
                this.liveStreams.forEach(stream => {
                    html += `
                        <div class="live-stream-card focusable" tabindex="0" data-stream-id="${stream.id}">
                            <div class="live-indicator">
                                <div class="live-dot"></div>
                                LIVE
                            </div>
                            <div class="stream-title">${stream.name}</div>
                            <div class="stream-description">${stream.description}</div>
                        </div>
                    `;
                });

                container.innerHTML = html;
                this.updateFocusableElements();
            }

            renderFeaturedShows() {
                const container = document.getElementById('featured-shows-container');
                if (!container) return;

                let html = '';
                this.shows.slice(0, 4).forEach(show => {
                    html += `
                        <div class="show-card focusable" tabindex="0" data-show-id="${show.id}">
                            <div class="show-category">${show.category}</div>
                            <div class="show-title">${show.title}</div>
                            <div class="show-author">by ${show.author}</div>
                            <div class="show-stats">
                                <span>${show.episodes} Episodes</span>
                            </div>
                        </div>
                    `;
                });

                container.innerHTML = html;
                this.updateFocusableElements();
            }

            loadAllLiveStreams() {
                const container = document.getElementById('all-live-streams');
                if (!container) return;

                // Show loading state
                container.innerHTML = `
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading all live streams...
                    </div>
                `;

                // Simulate API call delay
                setTimeout(() => {
                    let html = '';
                    this.liveStreams.forEach(stream => {
                        html += `
                            <div class="live-stream-card focusable" tabindex="0" data-stream-id="${stream.id}">
                                <div class="live-indicator">
                                    <div class="live-dot"></div>
                                    LIVE
                                </div>
                                <div class="stream-title">${stream.name}</div>
                                <div class="stream-description">${stream.description}</div>
                            </div>
                        `;
                    });

                    container.innerHTML = html;
                    this.updateFocusableElements();
                }, 1000);
            }

            loadAllShows() {
                const container = document.getElementById('all-shows-container');
                if (!container) return;

                // Show loading state
                container.innerHTML = `
                    <div class="loading">
                        <div class="spinner"></div>
                        Loading all shows...
                    </div>
                `;

                // Simulate API call delay
                setTimeout(() => {
                    let html = '';
                    this.shows.forEach(show => {
                        html += `
                            <div class="show-card focusable" tabindex="0" data-show-id="${show.id}">
                                <div class="show-category">${show.category}</div>
                                <div class="show-title">${show.title}</div>
                                <div class="show-author">by ${show.author}</div>
                                <div class="show-stats">
                                    <span>${show.episodes} Episodes</span>
                                </div>
                            </div>
                        `;
                    });

                    container.innerHTML = html;
                    this.updateFocusableElements();
                }, 1000);
            }

            playLiveStream(streamId) {
                const stream = this.liveStreams.find(s => s.id === streamId);
                if (!stream) return;

                this.currentStream = stream;
                this.openVideoPlayer(stream.embed_url, stream.name);
            }

            playShow(showId) {
                const show = this.shows.find(s => s.id === showId);
                if (!show) return;

                // For demo purposes, use a sample embed URL
                // In a real app, this would load the actual episode
                const sampleEmbedUrl = 'https://swf.tulix.tv/iframe/greaterlove/';
                this.openVideoPlayer(sampleEmbedUrl, `${show.title} - ${show.author}`);
            }

            openVideoPlayer(embedUrl, title) {
                const player = document.getElementById('video-player');
                const frame = document.getElementById('video-frame');
                const titleElement = document.getElementById('video-title');

                frame.src = embedUrl;
                titleElement.textContent = title;
                player.classList.add('active');
                
                this.isVideoPlayerOpen = true;

                // Focus on close button
                setTimeout(() => {
                    const closeBtn = document.getElementById('close-player');
                    closeBtn.focus();
                    this.updateFocusableElements();
                    this.focusIndex = this.focusableElements.indexOf(closeBtn);
                }, 500);
            }

            closeVideoPlayer() {
                const player = document.getElementById('video-player');
                const frame = document.getElementById('video-frame');

                player.classList.remove('active');
                frame.src = '';
                
                this.isVideoPlayerOpen = false;
                this.currentStream = null;

                // Return focus to content
                this.updateFocusableElements();
                setTimeout(() => {
                    this.moveToContent();
                }, 100);
            }

            // Tizen-specific TV API integration
            initTizenTV() {
                // Register for Tizen TV events
                if (typeof tizen !== 'undefined') {
                    try {
                        // Register application control
                        tizen.application.getCurrentApplication().addEventListener('visibilitychange', (e) => {
                            if (e.type === 'VISIBLE') {
                                this.onAppVisible();
                            } else if (e.type === 'HIDDEN') {
                                this.onAppHidden();
                            }
                        });

                        // Handle TV key events
                        document.addEventListener('keydown', (e) => {
                            this.handleTizenKeys(e);
                        });

                    } catch (error) {
                        console.log('Tizen API not available:', error);
                    }
                }
            }

            handleTizenKeys(e) {
                const tvKeyCode = e.keyCode;
                
                switch(tvKeyCode) {
                    case 10009: // Return key
                        if (this.isVideoPlayerOpen) {
                            this.closeVideoPlayer();
                        } else {
                            this.switchPage('home');
                        }
                        e.preventDefault();
                        break;
                        
                    case 10252: // Play/Pause
                        if (this.isVideoPlayerOpen) {
                            // Handle play/pause for video
                            this.toggleVideoPlayback();
                        }
                        e.preventDefault();
                        break;
                        
                    case 415: // Play
                    case 19: // Pause
                        if (this.isVideoPlayerOpen) {
                            this.toggleVideoPlayback();
                        }
                        e.preventDefault();
                        break;
                }
            }

            toggleVideoPlayback() {
                // Since we're using iframe embed, we can't directly control playback
                // This would need to be implemented based on the specific video player
                console.log('Toggle video playback');
            }

            onAppVisible() {
                // App became visible - resume any paused operations
                console.log('App visible');
                this.updateFocusableElements();
                if (!this.isVideoPlayerOpen) {
                    this.setInitialFocus();
                }
            }

            onAppHidden() {
                // App became hidden - pause operations to save resources
                console.log('App hidden');
                if (this.isVideoPlayerOpen) {
                    // Optionally pause video when app is hidden
                }
            }

            // Error handling
            showError(message) {
                const errorHtml = `
                    <div class="error-message">
                        <p>${message}</p>
                        <button class="retry-btn focusable" tabindex="0" onclick="location.reload()">
                            RETRY
                        </button>
                    </div>
                `;

                // Show error in the current container
                const activeContainer = document.querySelector(`#${this.currentPage}-page .loading`);
                if (activeContainer) {
                    activeContainer.innerHTML = errorHtml;
                    this.updateFocusableElements();
                }
            }

            // API integration (for future use with real Castr API)
            async fetchFromAPI(endpoint) {
                try {
                    const response = await fetch(`https://api.castr.com/v2/${endpoint}`, {
                        headers: {
                            'Authorization': 'Basic NWFMb0tqck5qbHk0OlVqVENxOHdPajc2dmpYem5HRnpkYk1SelRCQ0ZxNlZsSkVsQlE=',
                            'Accept': 'application/json',
                            'Content-Type': 'application/json'
                        }
                    });

                    if (!response.ok) {
                        throw new Error(`API Error: ${response.status}`);
                    }

                    return await response.json();
                } catch (error) {
                    console.error('API Fetch Error:', error);
                    this.showError('Failed to load content. Please check your internet connection.');
                    return null;
                }
            }

            // Future method to load real data from API
            async loadRealData() {
                try {
                    // Load live streams
                    const streams = await this.fetchFromAPI('live_streams');
                    if (streams) {
                        this.liveStreams = streams.filter(s => s.enabled);
                        this.renderLiveStreams();
                    }

                    // Load shows
                    const shows = await this.fetchFromAPI('videos');
                    if (shows && shows.docs) {
                        this.shows = shows.docs;
                        this.renderFeaturedShows();
                    }

                } catch (error) {
                    console.error('Failed to load real data:', error);
                    // Fall back to static data
                }
            }
        }

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const app = new GreaterLoveApp();
            
            // Initialize Tizen TV specific features
            app.initTizenTV();
            
            // Make app globally available for debugging
            window.GreaterLoveApp = app;
        });

        // Handle application lifecycle
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                console.log('App hidden - pausing operations');
            } else {
                console.log('App visible - resuming operations');
            }
        });

        // Handle window unload
        window.addEventListener('beforeunload', () => {
            console.log('App closing');
        });

    </script>
</body>
</html>